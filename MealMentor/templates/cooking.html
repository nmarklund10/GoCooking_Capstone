<!DOCTYPE html>
<html>
    <head>
        <title>MealMentor</title>
        <meta charset="UTF-8">
        {% load static %}        
        <link rel="shortcut icon" type="image/png" href="{% static 'images/logo.png' %}"/>
        <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue-pink.min.css">
        <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        {% csrf_token %}
        <script>
            var csrf_token = document.getElementsByName("csrfmiddlewaretoken")[0].value.toString();
        </script>
        {% load static %}
        <script type="text/javascript" src="{% static 'js/helper.js' %}"></script>
        <link rel="stylesheet" href="{% static 'css/template.css' %}">
        {% block includes %}
            {% load static %}
                <script type="text/javascript" src="{% static 'js/cooking.js' %}"></script>
            <script>
                window.onload = setup;
                var recipe = "{{ recipe }}";
                history.pushState(null, null, document.URL);
                window.addEventListener('popstate', function () {
                    history.pushState(null, null, document.URL);
                });
            </script>
            <style>
                #titlebar {
                    padding-top: 3vh;
                    background-color: #2196F3;
                    height: 6vh;
                    width: 100vw;
                }
                .mdl-grid {
                    padding: 4vh 0 0 0;
                    height: 80vh;
                    width: 100vw;
                }
                .mdl-cell {
                    margin: 0;
                    height: 100%;
                }
                .mdl-cell--1-col {
                    width: 10vw;
                }
                .mdl-cell--10-col {
                    width: 80vw;
                }
                .mdl-card {
                    height: 100%;
                    width: 100%;
                }
                .mdl-card__title {
                    justify-content: center;
                    font-size: 5vh;
                    padding: 3vh 3vw;
                }
                .mdl-card__media {
                    justify-content: center;
                }
                .mdl-card__supporting-text {
                    padding: 3vh 3vw;
                }
                .mdl-card__actions {
                    padding: 2vh 2vw;
                }
                #currentStep {
                    font-size: 4vh;
                    line-height: 5vh;
                    text-align: center;
                }
                .nav-button {
                    text-align: center;
                    height: 100%;
                    width: 90%
                }
                #exitButton {
                    color: white;
                    width: 10vw;
                    font-size: 2vh;
                    line-height: 2vh;                  
                    padding: 0 1vw;
                }
                #recipeTitle {
                    text-align: center;
                    color: white;
                    font-size: 6vh;
                    line-height: 6vh;
                }
                #timerButton {
                    display: block; 
                    margin: 0 auto;
                    padding: 3vh 3vw;
                    line-height: 1vh;
                    font-size: 3vh;
                }
            </style>
        {% endblock %}
    </head>
</html>


{% block content %}
    <dialog id="alertDialog" class="mdl-dialog">    
        <h4 class="mdl-dialog__title" align="center">Complete Recipe?</h4>
        <div class="mdl-dialog__content">
            <p id="alertDialogText" align="center">Are you sure you want to mark this recipe as completed?</p>
        </div>
        <div class="mdl-dialog__actions">
            <button id="alertDialogButton" class="mdl-button mdl-js-button mdl-js-ripple-effect" style="background-color: lightgray;" onclick="finishRecipe();">OK</button>
            <button id="closeDialogButton" class="mdl-button mdl-js-button mdl-js-ripple-effect">Cancel</button>
        </div>
    </dialog>
    <dialog id="timerDialog" class="mdl-dialog">    
        <h4 class="mdl-dialog__title" align="center">Timer Done!</h4>
        <div class="mdl-dialog__actions">
            <button id="alertDialogButton" class="mdl-button mdl-js-button mdl-js-ripple-effect" style="display: block; margin: 0 auto; background-color: lightgray;" onclick="document.getElementById('timerDialog').close();">OK</button>
        </div>
    </dialog>
    <div id="titlebar" class="mdl-grid">
        <div class="mdl-cell mdl-cell--1-col"></div>            
        <div class="mdl-cell--10-col">
            <div id="recipeTitle"></div>
        </div>
        <div class="mdl-cell mdl-cell--1-col">
                <button id="exitButton" class="mdl-button mdl-js-button mdl-js-ripple-effect">Exit Recipe</button>
        </div>
    </div>
    <div class="mdl-grid">
        <div class="center-text mdl-cell mdl-cell--1-col">
            <button id="prevButton" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect nav-button" onclick="prevStep();">
                <span class="material-icons" style="font-size:10vh;">arrow_back</span>
            </button>
        </div>
        <div class="center-text mdl-cell mdl-cell--10-col">
            <div class="mdl-card mdl-shadow--4dp">
                <div id="stepTitle" class="mdl-card__title"></div>
                <div class="mdl-card__media mdl-color--white">
                    <img id="currentGif" style="height:40vh; display: block; margin: auto;">
                </div>
                <div class="mdl-card__supporting-text">
                    <div id="currentStep"></div>
                </div>
                <div class="mdl-card__actions">
                    <button id="timerButton" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">Start Timer</button>
                </div>
            </div>
        </div>
        <div class="center-text mdl-cell mdl-cell--1-col">
            <button id="nextButton" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect nav-button" style="float:right;" onclick="nextStep();">
                <span class="material-icons" style="font-size:10vh;">arrow_forward</span>
            </button>
        </div>
    </div>
{% endblock %}